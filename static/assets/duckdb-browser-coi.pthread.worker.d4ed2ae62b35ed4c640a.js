/*! For license information please see duckdb-browser-coi.pthread.worker.d4ed2ae62b35ed4c640a.js.LICENSE.txt */
"use strict";(()=>{var xi=Object.create,or=Object.defineProperty,Ti=Object.getOwnPropertyDescriptor,Hi=Object.getOwnPropertyNames,Mi=Object.getPrototypeOf,Bi=Object.prototype.hasOwnProperty,ye=(r=function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')},typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r),r,Ui=(e,t)=>()=>(e&&(t=e(e=0)),t),we=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ci=(e,t)=>{for(var r in t)or(e,r,{get:t[r],enumerable:!0})},Ii=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of Hi(t))!Bi.call(e,a)&&a!==r&&or(e,a,{get:()=>t[a],enumerable:!(n=Ti(t,a))||n.enumerable});return e},lr=(e,t,r)=>(r=null!=e?xi(Mi(e)):{},Ii(!t&&e&&e.__esModule?r:or(r,"default",{value:e,enumerable:!0}),e)),cr=we((()=>{})),fr=we((()=>{})),_r=we((()=>{})),Zt=we((()=>{})),en=we((()=>{})),rn={};Ci(rn,{default:()=>hr});var dr,Ni,hr,br=Ui((()=>{dr={},Ni=(()=>{var e=dr.url;return function(t){function r(){return F.buffer!=B&&V(F.buffer),O}function n(){return F.buffer!=B&&V(F.buffer),N}function a(){return F.buffer!=B&&V(F.buffer),P}function o(){return F.buffer!=B&&V(F.buffer),X}function i(){return F.buffer!=B&&V(F.buffer),L}function u(){return F.buffer!=B&&V(F.buffer),q}var s,l,f=typeof(t=t||{})<"u"?t:{};f.ready=new Promise((function(e,t){s=e,l=t}));var c,d,_=Object.assign({},f),h=[],p="./this.program",m=(e,t)=>{throw t},b="object"==typeof window,y="function"==typeof importScripts,g="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,w=f.ENVIRONMENT_IS_PTHREAD||!1,v="";function A(e){return f.locateFile?f.locateFile(e,v):v+e}if(g){var E,H;let e;v=y?_r().dirname(v)+"/":__dirname+"/","function"==typeof ye&&(E=fr(),H=_r()),c=(e,t)=>(e=H.normalize(e),E.readFileSync(e,t?void 0:"utf8")),d=e=>{var t=c(e,!0);return t.buffer||(t=new Uint8Array(t)),t},process.argv.length>1&&(p=process.argv[1].replace(/\\/g,"/")),h=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof de))throw e})),process.on("unhandledRejection",(function(e){throw e})),m=(e,t)=>{if(re())throw process.exitCode=e,t;(function(e){e instanceof de||U("exiting due to exception: "+e)})(t),process.exit(e)},f.inspect=function(){return"[Emscripten Module object]"};try{e=cr()}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e}global.Worker=e.Worker}else(b||y)&&(y?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),e&&(v=e),v=0!==v.indexOf("blob:")?v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1):"",g||(c=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},y&&(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})));g&&typeof performance>"u"&&(global.performance=Zt().performance);var k=console.log.bind(console),R=console.warn.bind(console);g&&(k=e=>E.writeSync(1,e+"\n"),R=e=>E.writeSync(2,e+"\n"));var S,T=f.print||k,U=f.printErr||R;Object.assign(f,_),_=null,f.arguments&&(h=f.arguments),f.thisProgram&&(p=f.thisProgram),f.quit&&(m=f.quit),Atomics.load,Atomics.store,Atomics.compareExchange,f.wasmBinary&&(S=f.wasmBinary);var C=f.noExitRuntime||!0;"object"!=typeof WebAssembly&&se("no native wasm support detected");var F,D,M,x=!1;function I(e,t){e||se(t)}var B,O,N,P,W,X,L,q,K=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function j(e,t,r){for(var n=(t>>>=0)+r,a=t;e[a]&&!(a>=n);)++a;if(a-t>16&&e.buffer&&K)return K.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,a):e.subarray(t,a));for(var o="";t<a;){var i=e[t++];if(128&i){var u=63&e[t++];if(192!=(224&i)){var s=63&e[t++];if((i=224==(240&i)?(15&i)<<12|u<<6|s:(7&i)<<18|u<<12|s<<6|63&e[t++])<65536)o+=String.fromCharCode(i);else{var l=i-65536;o+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else o+=String.fromCharCode((31&i)<<6|u)}else o+=String.fromCharCode(i)}return o}function $(e,t){return(e>>>=0)?j(n(),e,t):""}function Y(e,t,r,n){if(!(n>0))return 0;for(var a=r>>>=0,o=r+n-1,i=0;i<e.length;++i){var u=e.charCodeAt(i);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&e.charCodeAt(++i)),u<=127){if(r>=o)break;t[r++>>>0]=u}else if(u<=2047){if(r+1>=o)break;t[r++>>>0]=192|u>>6,t[r++>>>0]=128|63&u}else if(u<=65535){if(r+2>=o)break;t[r++>>>0]=224|u>>12,t[r++>>>0]=128|u>>6&63,t[r++>>>0]=128|63&u}else{if(r+3>=o)break;t[r++>>>0]=240|u>>18,t[r++>>>0]=128|u>>12&63,t[r++>>>0]=128|u>>6&63,t[r++>>>0]=128|63&u}}return t[r>>>0]=0,r-a}function z(e,t,r){return Y(e,n(),t,r)}function V(e){B=e,f.HEAP8=O=new Int8Array(e),f.HEAP16=P=new Int16Array(e),f.HEAP32=X=new Int32Array(e),f.HEAPU8=N=new Uint8Array(e),f.HEAPU16=W=new Uint16Array(e),f.HEAPU32=L=new Uint32Array(e),f.HEAPF32=new Float32Array(e),f.HEAPF64=q=new Float64Array(e)}w&&(B=f.buffer);var J=f.INITIAL_MEMORY||16777216;if(w)F=f.wasmMemory,B=f.buffer;else if(f.wasmMemory)F=f.wasmMemory;else if(!((F=new WebAssembly.Memory({initial:J/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw U("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),g&&U("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");F&&(B=F.buffer),J=B.byteLength,V(B);var G,Z=[],Q=[],ee=[],te=[];function re(){return C}function ne(){!w&&Ee(Q)}var ae,oe=0,ie=null,ue=null;function se(e){w?postMessage({cmd:"onAbort",arg:e}):f.onAbort&&f.onAbort(e),U(e="Aborted("+e+")"),x=!0,M=1,e+=". Build with -sASSERTIONS for more info.",Yt()}function le(e){return e.startsWith("data:application/octet-stream;base64,")}function fe(e){try{if(e==ae&&S)return new Uint8Array(S);if(d)return d(e);throw"both async and sync fetching of the wasm failed"}catch(e){se(e)}}f.locateFile?le(ae="./duckdb-coi.wasm")||(ae=A(ae)):ae=new URL("./duckdb-coi.wasm",dr.url).toString();var ce={};function de(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function _e(e){var t=Ae.pthreads[e];I(t),Ae.returnWorkerToPool(t)}function he(e,t){return n().fill(0,e,e+t),e}function pe(e){var t=Ae.getNewWorker();if(!t)return 6;Ae.runningWorkers.push(t),Ae.pthreads[e.pthread_ptr]=t,t.pthread_ptr=e.pthread_ptr;var r={cmd:"run",start_routine:e.startRoutine,arg:e.arg,pthread_ptr:e.pthread_ptr};return t.runPthread=()=>{r.time=performance.now(),t.postMessage(r,e.transferList)},t.loaded&&(t.runPthread(),delete t.runPthread),0}var me={varargs:void 0,get:function(){return me.varargs+=4,o()[me.varargs-4>>>2]},getStr:function(e){return $(e)}};function be(e){if(w)return _t(1,1,e);M=e,re()||(Ae.terminateAllThreads(),f.onExit&&f.onExit(e),x=!0),m(e,new de(e))}function ge(e,t){if(M=e,!t&&w)throw He(e),"unwind";be(e)}var we=ge;function ve(e){if(e instanceof de||"unwind"==e)return M;m(1,e)}var Ae={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init:function(){w?Ae.initWorker():Ae.initMainThread()},initMainThread:function(){for(var e=4;e--;)Ae.allocateUnusedWorker()},initWorker:function(){C=!1},setExitStatus:function(e){M=e},terminateAllThreads:function(){for(var e of Object.values(Ae.pthreads))Ae.returnWorkerToPool(e);for(var e of Ae.unusedWorkers)e.terminate();Ae.unusedWorkers=[]},returnWorkerToPool:function(e){var t=e.pthread_ptr;delete Ae.pthreads[t],Ae.unusedWorkers.push(e),Ae.runningWorkers.splice(Ae.runningWorkers.indexOf(e),1),e.pthread_ptr=0,Kt(t)},receiveObjectTransfer:function(e){},threadInitTLS:function(){Ae.tlsInitFunctions.forEach((e=>e()))},loadWasmModuleToWorker:function(e,t){e.onmessage=r=>{var n=r.data,a=n.cmd;if(e.pthread_ptr&&(Ae.currentProxiedOperationCallerThread=e.pthread_ptr),n.targetThread&&n.targetThread!=Ot()){var o=Ae.pthreads[n.targetThread];return o?o.postMessage(n,n.transferList):U('Internal error! Worker sent a message "'+a+'" to target pthread '+n.targetThread+", but that thread no longer exists!"),void(Ae.currentProxiedOperationCallerThread=void 0)}"processProxyingQueue"===a?ft(n.queue):"spawnThread"===a?pe(n):"cleanupThread"===a?_e(n.thread):"killThread"===a?function(e){var t=Ae.pthreads[e];delete Ae.pthreads[e],t.terminate(),Kt(e),Ae.runningWorkers.splice(Ae.runningWorkers.indexOf(t),1),t.pthread_ptr=0}(n.thread):"cancelThread"===a?function(e){Ae.pthreads[e].postMessage({cmd:"cancel"})}(n.thread):"loaded"===a?(e.loaded=!0,t&&t(e),e.runPthread&&(e.runPthread(),delete e.runPthread)):"print"===a?T("Thread "+n.threadId+": "+n.text):"printErr"===a?U("Thread "+n.threadId+": "+n.text):"alert"===a?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"onAbort"===a?f.onAbort&&f.onAbort(n.arg):a&&U("worker sent an unknown command "+a),Ae.currentProxiedOperationCallerThread=void 0},e.onerror=e=>{throw U("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},g&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:f.mainScriptUrlOrBlob,wasmMemory:F,wasmModule:D})},allocateUnusedWorker:function(){if(f.locateFile){var e=A("duckdb_wasm.worker.js");Ae.unusedWorkers.push(new Worker(e))}else Ae.unusedWorkers.push(new Worker(new URL("duckdb_wasm.worker.js",dr.url)))},getNewWorker:function(){return 0==Ae.unusedWorkers.length&&(Ae.allocateUnusedWorker(),Ae.loadWasmModuleToWorker(Ae.unusedWorkers[0])),Ae.unusedWorkers.pop()}};function Ee(e){for(;e.length>0;)e.shift()(f)}function He(e){if(w)return _t(2,0,e);try{we(e)}catch(e){ve(e)}}f.PThread=Ae,f.establishStackSpace=function(){var e=Ot(),t=o()[e+44>>>2],r=o()[e+48>>>2];zt(t,t-r),Jt(t)};var ke=[];function Re(e,t,r,n){return w?_t(3,1,e,t,r,n):Se(e,t,r,n)}function Se(e,t,r,n){if(typeof SharedArrayBuffer>"u")return U("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];if(w&&0===a.length)return Re(e,t,r,n);var o={startRoutine:r,pthread_ptr:e,arg:n,transferList:a};return w?(o.cmd="spawnThread",postMessage(o,a),0):pe(o)}function Te(e,t,r,n,a){if(w)return _t(4,1,e,t,r,n,a);for(var i=0,u=t?o()[t>>>2]:0,s=t?o()[t+4>>>2]:0,l=r?o()[r>>>2]:0,f=r?o()[r+4>>>2]:0,c=n?o()[n>>>2]:0,d=n?o()[n+4>>>2]:0,_=0,h=0,p=0,m=0,b=0,y=0,g=(t?o()[t>>>2]:0)|(r?o()[r>>>2]:0)|(n?o()[n>>>2]:0),v=(t?o()[t+4>>>2]:0)|(r?o()[r+4>>>2]:0)|(n?o()[n+4>>>2]:0),A=function(e,t,r,n){return e<32?t&n:r&n},E=0;E<e;E++){var H=1<<E%32;if(A(E,g,v,H)){var k=me.getStreamFromFD(E),R=me.DEFAULT_POLLMASK;k.stream_ops.poll&&(R=k.stream_ops.poll(k)),1&R&&A(E,u,s,H)&&(E<32?_|=H:h|=H,i++),4&R&&A(E,l,f,H)&&(E<32?p|=H:m|=H,i++),2&R&&A(E,c,d,H)&&(E<32?b|=H:y|=H,i++)}}return t&&(o()[t>>>2]=_,o()[t+4>>>2]=h),r&&(o()[r>>>2]=p,o()[r+4>>>2]=m),n&&(o()[n>>>2]=b,o()[n+4>>>2]=y),i}function Ue(){U("missing function: $SOCKFS"),se(-1)}function Ce(){U("missing function: $FS"),se(-1)}function Fe(e){var t=Ue.getSocket(e);if(!t)throw new Ce.ErrnoError(8);return t}function De(e){return(255&e)+"."+(e>>8&255)+"."+(e>>16&255)+"."+(e>>24&255)}function Me(e){var t="",r=0,n=0,a=0,o=0,i=0,u=0,s=[65535&e[0],e[0]>>16,65535&e[1],e[1]>>16,65535&e[2],e[2]>>16,65535&e[3],e[3]>>16],l=!0,f="";for(u=0;u<5;u++)if(0!==s[u]){l=!1;break}if(l){if(f=De(s[6]|s[7]<<16),-1===s[5])return(t="::ffff:")+f;if(0===s[5])return"0.0.0.0"===f&&(f=""),"0.0.0.1"===f&&(f="1"),(t="::")+f}for(r=0;r<8;r++)0===s[r]&&(r-a>1&&(i=0),a=r,i++),i>n&&(o=r-(n=i)+1);for(r=0;r<8;r++)n>1&&0===s[r]&&r>=o&&r<o+n?r===o&&(t+=":",0===o&&(t+=":")):(t+=Number(Lt(65535&s[r])).toString(16),t+=r<7?":":"");return t}function xe(e,t){var r,n=a()[e>>>1],i=Lt((F.buffer!=B&&V(F.buffer),W)[e+2>>>1]);switch(n){case 2:if(16!==t)return{errno:28};r=De(r=o()[e+4>>>2]);break;case 10:if(28!==t)return{errno:28};r=Me(r=[o()[e+8>>>2],o()[e+12>>>2],o()[e+16>>>2],o()[e+20>>>2]]);break;default:return{errno:5}}return{family:n,addr:r,port:i}}function Ie(e){for(var t=e.split("."),r=0;r<4;r++){var n=Number(t[r]);if(isNaN(n))return null;t[r]=n}return(t[0]|t[1]<<8|t[2]<<16|t[3]<<24)>>>0}function Be(e){return parseInt(e)}function Oe(e){var t,r,n,a,o=[];if(!/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i.test(e))return null;if("::"===e)return[0,0,0,0,0,0,0,0];for((e=e.startsWith("::")?e.replace("::","Z:"):e.replace("::",":Z:")).indexOf(".")>0?((t=(e=e.replace(new RegExp("[.]","g"),":")).split(":"))[t.length-4]=Be(t[t.length-4])+256*Be(t[t.length-3]),t[t.length-3]=Be(t[t.length-2])+256*Be(t[t.length-1]),t=t.slice(0,t.length-2)):t=e.split(":"),n=0,a=0,r=0;r<t.length;r++)if("string"==typeof t[r])if("Z"===t[r]){for(a=0;a<8-t.length+1;a++)o[r+a]=0;n=a-1}else o[r+n]=Wt(parseInt(t[r],16));else o[r+n]=t[r];return[o[1]<<16|o[0],o[3]<<16|o[2],o[5]<<16|o[4],o[7]<<16|o[6]]}f.invokeEntryPoint=function(e,t){var r=function(e){var t=ke[e];return t||(e>=ke.length&&(ke.length=e+1),ke[e]=t=G.get(e)),t}(e)(t);re()?Ae.setExitStatus(r):jt(r)};var Ne={address_map:{id:1,addrs:{},names:{}},lookup_name:function(e){var t,r=Ie(e);if(null!==r||null!==(r=Oe(e)))return e;if(Ne.address_map.addrs[e])t=Ne.address_map.addrs[e];else{var n=Ne.address_map.id++;I(n<65535,"exceeded max address mappings of 65535"),t="172.29."+(255&n)+"."+(65280&n),Ne.address_map.names[t]=e,Ne.address_map.addrs[e]=t}return t},lookup_addr:function(e){return Ne.address_map.names[e]?Ne.address_map.names[e]:null}};function Pe(e,t,r){if(r&&0===e)return null;var n=xe(e,t);if(n.errno)throw new Ce.ErrnoError(n.errno);return n.addr=Ne.lookup_addr(n.addr)||n.addr,n}function We(e,t,r){if(w)return _t(5,1,e,t,r);var n=Fe(e),a=Pe(t,r);return n.sock_ops.bind(n,a.addr,a.port),0}function Xe(e,t,r){if(w)return _t(6,1,e,t,r);var n=Fe(e),a=Pe(t,r);return n.sock_ops.connect(n,a.addr,a.port),0}function Le(e,t,r,n){if(w)return _t(7,1,e,t,r,n)}function qe(e,t,r){return w?_t(8,1,e,t,r):(me.varargs=r,0)}function Ke(e,t){if(w)return _t(9,1,e,t)}function je(e,t,r){if(w)return _t(10,1,e,t,r)}function $e(e,t,r){if(w)return _t(11,1,e,t,r)}function Ye(e,t,r,n,i){switch(t){case 2:r=Ie(r),he(e,16),i&&(o()[i>>>2]=16),a()[e>>>1]=t,o()[e+4>>>2]=r,a()[e+2>>>1]=Wt(n);break;case 10:r=Oe(r),he(e,28),i&&(o()[i>>>2]=28),o()[e>>>2]=t,o()[e+8>>>2]=r[0],o()[e+12>>>2]=r[1],o()[e+16>>>2]=r[2],o()[e+20>>>2]=r[3],a()[e+2>>>1]=Wt(n);break;default:return 5}return 0}function ze(e,t,r){if(w)return _t(12,1,e,t,r);var n=Fe(e);return n.daddr?(Ye(t,n.family,Ne.lookup_name(n.daddr),n.dport,r),0):-53}function Ve(e,t,r,n,a){if(w)return _t(13,1,e,t,r,n,a);var i=Fe(e);return 1===t&&4===r?(o()[n>>>2]=i.error,o()[a>>>2]=4,i.error=null,0):-50}function Je(e,t,r){return w?_t(14,1,e,t,r):(me.varargs=r,0)}function Ge(e,t){if(w)return _t(15,1,e,t)}function Ze(e,t,r){if(w)return _t(16,1,e,t,r)}function Qe(e,t,r,n){if(w)return _t(17,1,e,t,r,n)}function et(e,t,r,n){if(w)return _t(18,1,e,t,r,n);me.varargs=n}function tt(e,t,r,a,o,i){if(w)return _t(19,1,e,t,r,a,o,i);var u=Fe(e),s=u.sock_ops.recvmsg(u,r);return s?(o&&Ye(o,u.family,Ne.lookup_name(s.addr),s.port,i),n().set(s.buffer,t>>>0),s.buffer.byteLength):0}function rt(e,t,r,n){if(w)return _t(20,1,e,t,r,n)}function nt(e){if(w)return _t(21,1,e)}function at(e,t,r,n,a,o){if(w)return _t(22,1,e,t,r,n,a,o)}function ot(e,t,r){if(w)return _t(23,1,e,t,r)}function it(e,t){if(w)return _t(24,1,e,t)}function ut(e,t,r){if(w)return _t(25,1,e,t,r)}var st,lt="To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking";function ft(e){Atomics.store(o(),e>>2,1),Ot()&&qt(e),Atomics.compareExchange(o(),e>>2,1,0)}function ct(e){ct.shown||(ct.shown={}),ct.shown[e]||(ct.shown[e]=1,g&&(e="warning: "+e),U(e))}function dt(e){var t=Vt(),r=e();return Jt(t),r}function _t(e,t){var r=arguments.length-2,n=arguments;return dt((()=>{for(var a=r,o=Gt(8*a),i=o>>3,s=0;s<r;s++){var l=n[2+s];u()[i+s>>>0]=l}return Xt(e,a,o,t)}))}f.executeNotifiedProxyingQueue=ft,st=g?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:w?()=>performance.now()-f.__performance_now_clock_drift:()=>performance.now();var ht=[];function pt(e){try{return F.grow(e-B.byteLength+65535>>>16),V(F.buffer),1}catch(e){}}var mt={};function bt(){if(!bt.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(var t in mt)void 0===mt[t]?delete e[t]:e[t]=mt[t];var r=[];for(var t in e)r.push(t+"="+e[t]);bt.strings=r}return bt.strings}function yt(e,t){if(w)return _t(26,1,e,t);var n=0;return bt().forEach((function(a,o){var u=t+n;i()[e+4*o>>>2]=u,function(e,t,n){for(var a=0;a<e.length;++a)r()[t++>>>0]=e.charCodeAt(a);r()[t>>>0]=0}(a,u),n+=a.length+1})),0}function gt(e,t){if(w)return _t(27,1,e,t);var r=bt();i()[e>>>2]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),i()[t>>>2]=n,0}function wt(e){return w?_t(28,1,e):52}function vt(e,t,r,n,a,o){return w?_t(29,1,e,t,r,n,a,o):52}function At(e,t,r,n,a,o){return w?_t(30,1,e,t,r,n,a,o):52}function Et(e,t,r,n){return w?_t(31,1,e,t,r,n):52}function Ht(e,t,r,n,a){return w?_t(32,1,e,t,r,n,a):70}function kt(e){return w?_t(33,1,e):52}var Rt=[null,[],[]];function St(e,t){var r=Rt[e];0===t||10===t?((1===e?T:U)(j(r,0)),r.length=0):r.push(t)}function Tt(e,t,r,a){if(w)return _t(34,1,e,t,r,a);for(var o=0,u=0;u<r;u++){var s=i()[t>>>2],l=i()[t+4>>>2];t+=8;for(var f=0;f<l;f++)St(e,n()[s+f>>>0]);o+=l}return i()[a>>>2]=o,0}function Ut(e,t,r,n){if(w)return _t(35,1,e,t,r,n);var a,u=0,s=0,l=0,f=0,c=0,d=0;function _(e,t,r,n,a,u){var s,l,f;return l=10===e?28:16,a=10===e?Me(a):De(a),I(!Ye(s=$t(l),e,a,u)),f=$t(32),o()[f+4>>>2]=e,o()[f+8>>>2]=t,o()[f+12>>>2]=r,o()[f+24>>>2]=n,i()[f+20>>>2]=s,o()[f+16>>>2]=10===e?28:16,o()[f+28>>>2]=0,f}if(r&&(l=o()[r>>>2],f=o()[r+4>>>2],c=o()[r+8>>>2],d=o()[r+12>>>2]),c&&!d&&(d=2===c?17:6),!c&&d&&(c=17===d?2:1),0===d&&(d=6),0===c&&(c=1),!e&&!t)return-2;if(-1088&l||0!==r&&2&o()[r>>>2]&&!e)return-1;if(32&l)return-2;if(0!==c&&1!==c&&2!==c)return-7;if(0!==f&&2!==f&&10!==f)return-6;if(t&&(t=$(t),s=parseInt(t,10),isNaN(s)))return 1024&l?-2:-8;if(!e)return 0===f&&(f=2),0==(1&l)&&(u=2===f?Pt(2130706433):[0,0,0,1]),a=_(f,c,d,null,u,s),i()[n>>>2]=a,0;if(null!==(u=Ie(e=$(e))))if(0===f||2===f)f=2;else{if(!(10===f&&8&l))return-2;u=[0,0,Pt(65535),u],f=10}else if(null!==(u=Oe(e))){if(0!==f&&10!==f)return-2;f=10}return null!=u?(a=_(f,c,d,e,u,s),i()[n>>>2]=a,0):4&l?-2:(u=Ie(e=Ne.lookup_name(e)),0===f?f=2:10===f&&(u=[0,0,Pt(65535),u]),a=_(f,c,d,null,u,s),i()[n>>>2]=a,0)}function Ct(e){return e%4==0&&(e%100!=0||e%400==0)}var Ft=[31,29,31,30,31,30,31,31,30,31,30,31],Dt=[31,28,31,30,31,30,31,31,30,31,30,31];function Mt(e,t){r().set(e,t>>>0)}Ae.init();var xt,It=[null,be,He,Re,Te,We,Xe,Le,qe,Ke,je,$e,ze,Ve,Je,Ge,Ze,Qe,et,tt,rt,nt,at,ot,it,ut,yt,gt,wt,vt,At,Et,Ht,kt,Tt,Ut],Bt={b:function(e,t,r,n){se("Assertion failed: "+$(e)+", at: "+[t?$(t):"unknown filename",r,n?$(n):"unknown function"])},v:function(e){Nt(e,!y,1,!b),Ae.threadInitTLS()},s:function(e){w?postMessage({cmd:"cleanupThread",thread:e}):_e(e)},ba:Se,U:Te,Y:We,X:Xe,Q:Le,c:qe,ja:Ke,A:je,fa:$e,S:ze,T:Ve,la:Je,ga:Ge,ka:Ze,ha:Qe,r:et,V:tt,O:rt,p:nt,W:at,m:ot,ia:it,q:ut,_:function(e){},o:function(e,t){se(lt)},$:function(e,t){se(lt)},ca:function(){return 2097152},sa:function(){return!0},Z:function(e,t,r,n){if(e==t)setTimeout((()=>ft(n)));else if(w)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:n});else{var a=Ae.pthreads[e];if(!a)return;a.postMessage({cmd:"processProxyingQueue",queue:n})}return 1},J:function(e,t,r){return-1},f:function(){se("")},H:function(e,t){return globalThis.DUCKDB_RUNTIME.createDirectory(f,e,t)},I:function(e,t){return globalThis.DUCKDB_RUNTIME.checkDirectory(f,e,t)},F:function(e,t){return globalThis.DUCKDB_RUNTIME.listDirectoryEntries(f,e,t)},G:function(e,t){return globalThis.DUCKDB_RUNTIME.removeDirectory(f,e,t)},k:function(e){return globalThis.DUCKDB_RUNTIME.closeFile(f,e)},D:function(e,t){return globalThis.DUCKDB_RUNTIME.checkFile(f,e,t)},w:function(e){return globalThis.DUCKDB_RUNTIME.getLastFileModificationTime(f,e)},E:function(e,t,r,n){return globalThis.DUCKDB_RUNTIME.moveFile(f,e,t,r,n)},L:function(e,t){return globalThis.DUCKDB_RUNTIME.openFile(f,e,t)},g:function(e,t,r,n){return globalThis.DUCKDB_RUNTIME.readFile(f,e,t,r,n)},K:function(e,t){return globalThis.DUCKDB_RUNTIME.truncateFile(f,e,t)},h:function(e,t,r,n){return globalThis.DUCKDB_RUNTIME.writeFile(f,e,t,r,n)},M:function(e){return globalThis.DUCKDB_RUNTIME.getDefaultDataProtocol(e)},C:function(e,t){return globalThis.DUCKDB_RUNTIME.glob(f,e,t)},j:function(e){return globalThis.DUCKDB_RUNTIME.testPlatformFeature(f,e)},N:function(e,t,r,n,a,o){return globalThis.DUCKDB_RUNTIME.callScalarUDF(f,e,t,r,n,a,o)},l:function(){g||y||ct("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")},ta:function(){return Date.now()},ma:function(){return 4294901760},d:st,ea:function(e,t,r){n().copyWithin(e>>>0,t>>>0,t+r>>>0)},na:function(){return g?en().cpus().length:navigator.hardwareConcurrency},z:function(e,t,r){ht.length=t;for(var n=r>>3,a=0;a<t;a++)ht[a]=u()[n+a>>>0];return(e<0?ce[-e-1]:It[e]).apply(null,ht)},ra:function(e){var t=n().length;if((e>>>=0)<=t)return!1;var r,a=4294901760;if(e>a)return!1;for(var o=1;o<=4;o*=2){var i=t*(1+.2/o);if(i=Math.min(i,e+100663296),pt(Math.min(a,(r=Math.max(e,i))+(65536-r%65536)%65536)))return!0}return!1},u:function(){throw"unwind"},pa:yt,qa:gt,aa:we,e:wt,y:vt,x:At,t:Et,B:Ht,P:kt,i:Tt,n:Ut,da:function e(t,n){e.randomDevice||(e.randomDevice=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(g)try{var t=ye("crypto");return()=>t.randomBytes(1)[0]}catch(e){}return()=>se("randomDevice")}());for(var a=0;a<n;a++)r()[t+a>>>0]=e.randomDevice();return 0},R:function(e,t,r,n,a,o,i){var u=xe(e,t);if(u.errno)return-6;var s=u.port,l=u.addr,f=!1;if(r&&n){var c;if(1&i||!(c=Ne.lookup_addr(l))){if(8&i)return-2}else l=c;z(l,r,n)+1>=n&&(f=!0)}return a&&o&&z(s=""+s,a,o)+1>=o&&(f=!0),f?-12:0},a:F||f.wasmMemory,oa:function(e,t,r,n,a){return function(e,t,r,n){var a=o()[n+40>>>2],i={tm_sec:o()[n>>>2],tm_min:o()[n+4>>>2],tm_hour:o()[n+8>>>2],tm_mday:o()[n+12>>>2],tm_mon:o()[n+16>>>2],tm_year:o()[n+20>>>2],tm_wday:o()[n+24>>>2],tm_yday:o()[n+28>>>2],tm_isdst:o()[n+32>>>2],tm_gmtoff:o()[n+36>>>2],tm_zone:a?$(a):""},u=$(r),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var l in s)u=u.replace(new RegExp(l,"g"),s[l]);var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["January","February","March","April","May","June","July","August","September","October","November","December"];function d(e,t,r){for(var n="number"==typeof e?e.toString():e||"";n.length<t;)n=r[0]+n;return n}function _(e,t){return d(e,t,"0")}function h(e,t){function r(e){return e<0?-1:e>0?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function p(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function m(e){var t=function(e,t){for(var r=new Date(e.getTime());t>0;){var n=Ct(r.getFullYear()),a=r.getMonth(),o=(n?Ft:Dt)[a];if(!(t>o-r.getDate()))return r.setDate(r.getDate()+t),r;t-=o-r.getDate()+1,r.setDate(1),a<11?r.setMonth(a+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r}(new Date(e.tm_year+1900,0,1),e.tm_yday),r=new Date(t.getFullYear(),0,4),n=new Date(t.getFullYear()+1,0,4),a=p(r),o=p(n);return h(a,t)<=0?h(o,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var b={"%a":function(e){return f[e.tm_wday].substring(0,3)},"%A":function(e){return f[e.tm_wday]},"%b":function(e){return c[e.tm_mon].substring(0,3)},"%B":function(e){return c[e.tm_mon]},"%C":function(e){return _((e.tm_year+1900)/100|0,2)},"%d":function(e){return _(e.tm_mday,2)},"%e":function(e){return d(e.tm_mday,2," ")},"%g":function(e){return m(e).toString().substring(2)},"%G":function(e){return m(e)},"%H":function(e){return _(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),_(t,2)},"%j":function(e){return _(e.tm_mday+function(e,t){for(var r=0,n=0;n<=t;r+=e[n++]);return r}(Ct(e.tm_year+1900)?Ft:Dt,e.tm_mon-1),3)},"%m":function(e){return _(e.tm_mon+1,2)},"%M":function(e){return _(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return _(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=e.tm_yday+7-e.tm_wday;return _(Math.floor(t/7),2)},"%V":function(e){var t=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&t++,t){if(53==t){var r=(e.tm_wday+371-e.tm_yday)%7;4!=r&&(3!=r||!Ct(e.tm_year))&&(t=1)}}else{t=52;var n=(e.tm_wday+7-e.tm_yday-1)%7;(4==n||5==n&&Ct(e.tm_year%400-1))&&t++}return _(t,2)},"%w":function(e){return e.tm_wday},"%W":function(e){var t=e.tm_yday+7-(e.tm_wday+6)%7;return _(Math.floor(t/7),2)},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,r=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(r?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var l in u=u.replace(/%%/g,"\0\0"),b)u.includes(l)&&(u=u.replace(new RegExp(l,"g"),b[l](i)));var y=function(e,t,r){var n=function(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t}(e)+1,a=new Array(n);return Y(e,a,0,a.length),a}(u=u.replace(/\0\0/g,"%"));return y.length>t?0:(Mt(y,e),y.length-1)}(e,t,r,n)}},Ot=(function(){var e={a:Bt};function t(e,t){var r=e.exports;if(f.asm=r,function(e){Ae.tlsInitFunctions.push(e)}(f.asm.hb),G=f.asm.wa,function(e){Q.unshift(e)}(f.asm.ua),D=t,!w){var n=Ae.unusedWorkers.length;Ae.unusedWorkers.forEach((function(e){Ae.loadWasmModuleToWorker(e,(function(){--n||function(e){if(oe--,f.monitorRunDependencies&&f.monitorRunDependencies(oe),0==oe&&(null!==ie&&(clearInterval(ie),ie=null),ue)){var t=ue;ue=null,t()}}()}))}))}}function r(e){t(e.instance,e.module)}function n(t){return(S||!b&&!y||"function"!=typeof fetch?Promise.resolve().then((function(){return fe(ae)})):fetch(ae,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ae+"'";return e.arrayBuffer()})).catch((function(){return fe(ae)}))).then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){U("failed to asynchronously prepare wasm: "+e),se(e)}))}if(w||(oe++,f.monitorRunDependencies&&f.monitorRunDependencies(oe)),f.instantiateWasm)try{return f.instantiateWasm(e,t)}catch(e){U("Module.instantiateWasm callback failed with error: "+e),l(e)}(S||"function"!=typeof WebAssembly.instantiateStreaming||le(ae)||g||"function"!=typeof fetch?n(r):fetch(ae,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){return U("wasm streaming compile failed: "+e),U("falling back to ArrayBuffer instantiation"),n(r)}))}))).catch(l)}(),f.___wasm_call_ctors=function(){return(f.___wasm_call_ctors=f.asm.ua).apply(null,arguments)},f._main=function(){return(f._main=f.asm.va).apply(null,arguments)},f._duckdb_web_fs_glob_add_path=function(){return(f._duckdb_web_fs_glob_add_path=f.asm.xa).apply(null,arguments)},f._duckdb_web_clear_response=function(){return(f._duckdb_web_clear_response=f.asm.ya).apply(null,arguments)},f._duckdb_web_fail_with=function(){return(f._duckdb_web_fail_with=f.asm.za).apply(null,arguments)},f._duckdb_web_reset=function(){return(f._duckdb_web_reset=f.asm.Aa).apply(null,arguments)},f._duckdb_web_connect=function(){return(f._duckdb_web_connect=f.asm.Ba).apply(null,arguments)},f._duckdb_web_disconnect=function(){return(f._duckdb_web_disconnect=f.asm.Ca).apply(null,arguments)},f._duckdb_web_flush_files=function(){return(f._duckdb_web_flush_files=f.asm.Da).apply(null,arguments)},f._duckdb_web_flush_file=function(){return(f._duckdb_web_flush_file=f.asm.Ea).apply(null,arguments)},f._duckdb_web_open=function(){return(f._duckdb_web_open=f.asm.Fa).apply(null,arguments)},f._duckdb_web_get_global_file_info=function(){return(f._duckdb_web_get_global_file_info=f.asm.Ga).apply(null,arguments)},f._duckdb_web_collect_file_stats=function(){return(f._duckdb_web_collect_file_stats=f.asm.Ha).apply(null,arguments)},f._duckdb_web_export_file_stats=function(){return(f._duckdb_web_export_file_stats=f.asm.Ia).apply(null,arguments)},f._duckdb_web_fs_drop_file=function(){return(f._duckdb_web_fs_drop_file=f.asm.Ja).apply(null,arguments)},f._duckdb_web_fs_drop_files=function(){return(f._duckdb_web_fs_drop_files=f.asm.Ka).apply(null,arguments)},f._duckdb_web_fs_glob_file_infos=function(){return(f._duckdb_web_fs_glob_file_infos=f.asm.La).apply(null,arguments)},f._duckdb_web_fs_get_file_info_by_id=function(){return(f._duckdb_web_fs_get_file_info_by_id=f.asm.Ma).apply(null,arguments)},f._duckdb_web_fs_get_file_info_by_name=function(){return(f._duckdb_web_fs_get_file_info_by_name=f.asm.Na).apply(null,arguments)},f._duckdb_web_fs_register_file_url=function(){return(f._duckdb_web_fs_register_file_url=f.asm.Oa).apply(null,arguments)},f._duckdb_web_fs_register_file_buffer=function(){return(f._duckdb_web_fs_register_file_buffer=f.asm.Pa).apply(null,arguments)},f._duckdb_web_copy_file_to_buffer=function(){return(f._duckdb_web_copy_file_to_buffer=f.asm.Qa).apply(null,arguments)},f._duckdb_web_copy_file_to_path=function(){return(f._duckdb_web_copy_file_to_path=f.asm.Ra).apply(null,arguments)},f._duckdb_web_get_version=function(){return(f._duckdb_web_get_version=f.asm.Sa).apply(null,arguments)},f._duckdb_web_get_feature_flags=function(){return(f._duckdb_web_get_feature_flags=f.asm.Ta).apply(null,arguments)},f._duckdb_web_tokenize=function(){return(f._duckdb_web_tokenize=f.asm.Ua).apply(null,arguments)},f._duckdb_web_udf_scalar_create=function(){return(f._duckdb_web_udf_scalar_create=f.asm.Va).apply(null,arguments)},f._duckdb_web_prepared_create=function(){return(f._duckdb_web_prepared_create=f.asm.Wa).apply(null,arguments)},f._duckdb_web_prepared_close=function(){return(f._duckdb_web_prepared_close=f.asm.Xa).apply(null,arguments)},f._duckdb_web_prepared_run=function(){return(f._duckdb_web_prepared_run=f.asm.Ya).apply(null,arguments)},f._duckdb_web_prepared_send=function(){return(f._duckdb_web_prepared_send=f.asm.Za).apply(null,arguments)},f._duckdb_web_query_run=function(){return(f._duckdb_web_query_run=f.asm._a).apply(null,arguments)},f._duckdb_web_pending_query_start=function(){return(f._duckdb_web_pending_query_start=f.asm.$a).apply(null,arguments)},f._duckdb_web_pending_query_poll=function(){return(f._duckdb_web_pending_query_poll=f.asm.ab).apply(null,arguments)},f._duckdb_web_pending_query_cancel=function(){return(f._duckdb_web_pending_query_cancel=f.asm.bb).apply(null,arguments)},f._duckdb_web_query_fetch_results=function(){return(f._duckdb_web_query_fetch_results=f.asm.cb).apply(null,arguments)},f._duckdb_web_get_tablenames=function(){return(f._duckdb_web_get_tablenames=f.asm.db).apply(null,arguments)},f._duckdb_web_insert_arrow_from_ipc_stream=function(){return(f._duckdb_web_insert_arrow_from_ipc_stream=f.asm.eb).apply(null,arguments)},f._duckdb_web_insert_csv_from_path=function(){return(f._duckdb_web_insert_csv_from_path=f.asm.fb).apply(null,arguments)},f._duckdb_web_insert_json_from_path=function(){return(f._duckdb_web_insert_json_from_path=f.asm.gb).apply(null,arguments)},f.__emscripten_tls_init=function(){return(f.__emscripten_tls_init=f.asm.hb).apply(null,arguments)},f._pthread_self=function(){return(Ot=f._pthread_self=f.asm.ib).apply(null,arguments)}),Nt=f.__emscripten_thread_init=function(){return(Nt=f.__emscripten_thread_init=f.asm.jb).apply(null,arguments)},Pt=(f.__emscripten_thread_crashed=function(){return(f.__emscripten_thread_crashed=f.asm.kb).apply(null,arguments)},f._htonl=function(){return(Pt=f._htonl=f.asm.lb).apply(null,arguments)}),Wt=f._htons=function(){return(Wt=f._htons=f.asm.mb).apply(null,arguments)},Xt=f._emscripten_run_in_main_runtime_thread_js=function(){return(Xt=f._emscripten_run_in_main_runtime_thread_js=f.asm.nb).apply(null,arguments)},Lt=f._ntohs=function(){return(Lt=f._ntohs=f.asm.ob).apply(null,arguments)},qt=f.__emscripten_proxy_execute_task_queue=function(){return(qt=f.__emscripten_proxy_execute_task_queue=f.asm.pb).apply(null,arguments)},Kt=f.__emscripten_thread_free_data=function(){return(Kt=f.__emscripten_thread_free_data=f.asm.qb).apply(null,arguments)},jt=f.__emscripten_thread_exit=function(){return(jt=f.__emscripten_thread_exit=f.asm.rb).apply(null,arguments)},$t=f._malloc=function(){return($t=f._malloc=f.asm.sb).apply(null,arguments)},Yt=(f._free=function(){return(f._free=f.asm.tb).apply(null,arguments)},f.___trap=function(){return(Yt=f.___trap=f.asm.ub).apply(null,arguments)}),zt=f._emscripten_stack_set_limits=function(){return(zt=f._emscripten_stack_set_limits=f.asm.vb).apply(null,arguments)},Vt=f.stackSave=function(){return(Vt=f.stackSave=f.asm.wb).apply(null,arguments)},Jt=f.stackRestore=function(){return(Jt=f.stackRestore=f.asm.xb).apply(null,arguments)},Gt=f.stackAlloc=function(){return(Gt=f.stackAlloc=f.asm.yb).apply(null,arguments)};function Qt(e){if(e=e||h,!(oe>0)){if(w)return s(f),ne(),void postMessage({cmd:"loaded"});(function(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)e=f.preRun.shift(),Z.unshift(e);var e;Ee(Z)})(),oe>0||(f.setStatus?(f.setStatus("Running..."),setTimeout((function(){setTimeout((function(){f.setStatus("")}),1),t()}),1)):t())}function t(){xt||(xt=!0,f.calledRun=!0,!x&&(ne(),w||Ee(ee),s(f),f.onRuntimeInitialized&&f.onRuntimeInitialized(),er&&function(e){var t=f._main;try{ge(t(0,0),!0)}catch(e){return ve(e)}}(),function(){if(!w){if(f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)e=f.postRun.shift(),te.unshift(e);Ee(te)}var e}()))}}if(f.keepRuntimeAlive=re,f.wasmMemory=F,f.ccall=function(e,t,r,n,a){var o={string:e=>{var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2);z(e,t=Gt(r),r)}return t},array:e=>{var t=Gt(e.length);return Mt(e,t),t}},i=function(e){return f["_"+e]}(e),u=[],s=0;if(n)for(var l=0;l<n.length;l++){var c=o[r[l]];c?(0===s&&(s=Vt()),u[l]=c(n[l])):u[l]=n[l]}var d,_=i.apply(null,u);return d=_,0!==s&&Jt(s),function(e){return"string"===t?$(e):"boolean"===t?Boolean(e):e}(d)},f.ExitStatus=de,f.PThread=Ae,ue=function e(){xt||Qt(),xt||(ue=e)},f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.pop()();var er=!0;return f.noInitialRun&&(er=!1),Qt(),t.ready}})(),hr=Ni})),sn=we(((exports,module)=>{(function(){var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(r){return new Sha256(t,!0).update(r)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createOutputMethod(n,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(r,n){return new HmacSha256(r,t,!0).update(n)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,r){return t.create(e).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createHmacOutputMethod(n,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,r){var n,a=typeof e;if("string"===a){var o,i=[],u=e.length,s=0;for(n=0;n<u;++n)(o=e.charCodeAt(n))<128?i[s++]=o:o<2048?(i[s++]=192|o>>6,i[s++]=128|63&o):o<55296||o>=57344?(i[s++]=224|o>>12,i[s++]=128|o>>6&63,i[s++]=128|63&o):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++n)),i[s++]=240|o>>18,i[s++]=128|o>>12&63,i[s++]=128|o>>6&63,i[s++]=128|63&o);e=i}else{if("object"!==a)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var l=[],f=[];for(n=0;n<64;++n){var c=e[n]||0;l[n]=92^c,f[n]=54^c}Sha256.call(this,t,r),this.update(f),this.oKeyPad=l,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var n,a,o=0,i=e.length,u=this.blocks;o<i;){if(this.hashed&&(this.hashed=!1,u[0]=this.block,u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),t)for(a=this.start;o<i&&a<64;++o)u[a>>2]|=e[o]<<SHIFT[3&a++];else for(a=this.start;o<i&&a<64;++o)(n=e.charCodeAt(o))<128?u[a>>2]|=n<<SHIFT[3&a++]:n<2048?(u[a>>2]|=(192|n>>6)<<SHIFT[3&a++],u[a>>2]|=(128|63&n)<<SHIFT[3&a++]):n<55296||n>=57344?(u[a>>2]|=(224|n>>12)<<SHIFT[3&a++],u[a>>2]|=(128|n>>6&63)<<SHIFT[3&a++],u[a>>2]|=(128|63&n)<<SHIFT[3&a++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++o)),u[a>>2]|=(240|n>>18)<<SHIFT[3&a++],u[a>>2]|=(128|n>>12&63)<<SHIFT[3&a++],u[a>>2]|=(128|n>>6&63)<<SHIFT[3&a++],u[a>>2]|=(128|63&n)<<SHIFT[3&a++]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=u[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,r,n,a,o,i,u,s,l=this.h0,f=this.h1,c=this.h2,d=this.h3,_=this.h4,h=this.h5,p=this.h6,m=this.h7,b=this.blocks;for(e=16;e<64;++e)t=((a=b[e-15])>>>7|a<<25)^(a>>>18|a<<14)^a>>>3,r=((a=b[e-2])>>>17|a<<15)^(a>>>19|a<<13)^a>>>10,b[e]=b[e-16]+t+b[e-7]+r<<0;for(s=f&c,e=0;e<64;e+=4)this.first?(this.is224?(o=300032,m=(a=b[0]-1413257819)-150054599<<0,d=a+24177077<<0):(o=704751109,m=(a=b[0]-210244248)-1521486534<<0,d=a+143694565<<0),this.first=!1):(t=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(o=l&f)^l&c^s,m=d+(a=m+(r=(_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7))+(_&h^~_&p)+K[e]+b[e])<<0,d=a+(t+n)<<0),t=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),n=(i=d&l)^d&f^o,p=c+(a=p+(r=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&_^~m&h)+K[e+1]+b[e+1])<<0,t=((c=a+(t+n)<<0)>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),n=(u=c&d)^c&l^i,h=f+(a=h+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&m^~p&_)+K[e+2]+b[e+2])<<0,t=((f=a+(t+n)<<0)>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),n=(s=f&c)^f&d^u,_=l+(a=_+(r=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&p^~h&m)+K[e+3]+b[e+3])<<0,l=a+(t+n)<<0;this.h0=this.h0+l<<0,this.h1=this.h1+f<<0,this.h2=this.h2+c<<0,this.h3=this.h3+d<<0,this.h4=this.h4+_<<0,this.h5=this.h5+h<<0,this.h6=this.h6+p<<0,this.h7=this.h7+m<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,a=this.h4,o=this.h5,i=this.h6,u=this.h7,s=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i];return this.is224||(s+=HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[15&u]),s},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,a=this.h4,o=this.h5,i=this.h6,u=this.h7,s=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,a>>24&255,a>>16&255,a>>8&255,255&a,o>>24&255,o>>16&255,o>>8&255,255&o,i>>24&255,i>>16&255,i>>8&255,255&i];return this.is224||s.push(u>>24&255,u>>16&255,u>>8&255,255&u),s},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&define((function(){return exports})))})()})),B={},nn="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;nn&&(pr=cr(),mr=pr.parentPort,mr.on("message",(e=>vr({data:e}))),wr=fr(),Object.assign(global,{self:global,require:ye,Module:B,location:{href:__filename},Worker:pr.Worker,importScripts:function(e){(0,eval)(wr.readFileSync(e,"utf8"))},postMessage:function(e){mr.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}}));var pr,mr,wr,gr=!1,yr=[];function Pi(){var e=Array.prototype.slice.call(arguments).join(" ");nn?wr.writeSync(2,e+"\n"):console.error(e)}function Oi(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:B._pthread_self()})}var tn=Pi;self.alert=Oi,B.instantiateWasm=(e,t)=>{var r=new WebAssembly.Instance(B.wasmModule,e);return t(r),B.wasmModule=null,r.exports},self.onunhandledrejection=e=>{var t;throw null!=(t=e.reason)?t:e},self.onmessage=e=>{try{if("load"===e.data.cmd)B.wasmModule=e.data.wasmModule,B.wasmMemory=e.data.wasmMemory,B.buffer=B.wasmMemory.buffer,B.ENVIRONMENT_IS_PTHREAD=!0,(e.data.urlOrBlob?Promise.resolve().then((()=>lr(ye(e.data.urlOrBlob)))):Promise.resolve().then((()=>(br(),rn)))).then((function(e){return e.default(B)})).then((function(e){B=e}));else if("run"===e.data.cmd){B.__performance_now_clock_drift=performance.now()-e.data.time,B.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),B.establishStackSpace(),B.PThread.receiveObjectTransfer(e.data),B.PThread.threadInitTLS(),gr||(yr.forEach((e=>{B.executeNotifiedProxyingQueue(e)})),yr=[],gr=!0);try{B.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(e){if("unwind"!=e){if(!(e instanceof B.ExitStatus))throw e;B.keepRuntimeAlive()||B.__emscripten_thread_exit(e.status)}}}else"cancel"===e.data.cmd?B._pthread_self()&&B.__emscripten_thread_exit(-1):"setimmediate"===e.data.target||("processProxyingQueue"===e.data.cmd?gr?B.executeNotifiedProxyingQueue(e.data.queue):yr.push(e.data.queue):e.data.cmd&&(tn("worker.js received unknown command "+e.data.cmd),tn(e.data)))}catch(e){throw B.__emscripten_thread_crashed&&B.__emscripten_thread_crashed(),e}};var vr=self.onmessage;function an(){return B}function un(e){B=e}br();var de=lr(sn()),on=function(e,t,r){var n;if(null!=(n=null==e?void 0:e.endpoint)&&n.startsWith("http")){let t=`${null==e?void 0:e.endpoint}`,r=t.indexOf("://")+3;return t.substring(r)}return null!=e&&e.endpoint?`${r}.${null==e?void 0:e.endpoint}`:`${r}.s3.amazonaws.com`};function Wi(e,t,r){var n,a,o,i;let u=ln(t);return{url:u.path,query:"",host:on(e,t,u.bucket),region:null!=(n=null==e?void 0:e.region)?n:"",service:"s3",method:r,accessKeyId:null!=(a=null==e?void 0:e.accessKeyId)?a:"",secretAccessKey:null!=(o=null==e?void 0:e.secretAccessKey)?o:"",sessionToken:null!=(i=null==e?void 0:e.sessionToken)?i:"",dateNow:(new Date).toISOString().replace(/-/g,"").split("T")[0],datetimeNow:(new Date).toISOString().replace(/-/g,"").replace(/:/g,"").split(".")[0]+"Z"}}function Xi(e,t=!1){let r="0123456789ABCDEF",n="";for(let a=0;a<e.length;a++){let o=e[a];o>="A"&&o<="Z"||o>="a"&&o<="z"||o>="0"&&o<="9"||"_"==o||"-"==o||"~"==o||"."==o?n+=o:"/"==o?n+=t?"%2F":o:(n+="%",n+=r[o.charCodeAt(0)>>4],n+=r[15&o.charCodeAt(0)])}return n}function qi(e,t=null){var r;let n=null!=(r=null==t?void 0:t.contentHash)?r:"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",a=new Map;a.set("x-amz-date",e.datetimeNow),a.set("x-amz-content-sha256",n),e.sessionToken&&a.set("x-amz-security-token",e.sessionToken);let o="";null!=t&&t.contentType&&(o+="content-type;"),o+="host;x-amz-content-sha256;x-amz-date",e.sessionToken&&(o+=";x-amz-security-token");let i=e.method+"\n"+Xi(e.url)+"\n"+e.query;null!=t&&t.contentType&&(i+="\ncontent-type:"+(null==t?void 0:t.contentType)),i+="\nhost:"+e.host+"\nx-amz-content-sha256:"+n+"\nx-amz-date:"+e.datetimeNow,e.sessionToken&&e.sessionToken.length>0&&(i+="\nx-amz-security-token:"+e.sessionToken),i+="\n\n"+o+"\n"+n;let u=(0,de.sha256)(i),s="AWS4-HMAC-SHA256\n"+e.datetimeNow+"\n"+e.dateNow+"/"+e.region+"/"+e.service+"/aws4_request\n"+u,l="AWS4"+e.secretAccessKey,f=de.sha256.hmac.arrayBuffer(l,e.dateNow),c=de.sha256.hmac.arrayBuffer(f,e.region),d=de.sha256.hmac.arrayBuffer(c,e.service),_=de.sha256.hmac.arrayBuffer(d,"aws4_request"),h=de.sha256.hmac(_,s);return a.set("Authorization","AWS4-HMAC-SHA256 Credential="+e.accessKeyId+"/"+e.dateNow+"/"+e.region+"/"+e.service+"/aws4_request, SignedHeaders="+o+", Signature="+h),a}var Ki=function(e,t,r,n=null,a=null){return qi(Wi(e,t,r),{contentType:n,contentHash:a?de.sha256.hex(a):null})};function he(e,t,r,n,a=null,o=null){((null==t?void 0:t.accessKeyId)||(null==t?void 0:t.sessionToken))&&(Ki(t,r,n,a,o).forEach(((t,r)=>{e.setRequestHeader(r,t)})),a&&e.setRequestHeader("content-type",a))}function ln(e){if(0!=e.indexOf("s3://"))throw new Error("URL needs to start with s3://");let t=e.indexOf("/",5);if(-1==t)throw new Error("URL needs to contain a '/' after the host");let r=e.substring(5,t);if(!r)throw new Error("URL needs to contain a bucket name");let n=e.substring(t);if(!n)throw new Error("URL needs to contain key");return{bucket:r,path:n}}function be(e,t){var r;let n=ln(t);return null!=(r=null==e?void 0:e.endpoint)&&r.startsWith("http")?`${null==e?void 0:e.endpoint}/${n.bucket}`+n.path:"https://"+on(e,t,n.bucket)+n.path}var _n=new TextEncoder,cn=new TextDecoder("utf-8");function Er(e,t,r){let n=_n.encode(r),a=e._malloc(n.byteLength),o=e.HEAPU8.subarray(a,a+n.byteLength);o.set(n),e.HEAPF64[0+(t>>3)]=1,e.HEAPF64[1+(t>>3)]=a,e.HEAPF64[2+(t>>3)]=o.byteLength}function Fr(e){switch(e){case"UINT8":case"INT8":return 1;case"INT32":case"FLOAT":return 4;case"INT64":case"UINT64":case"DOUBLE":case"VARCHAR":return 8;default:return 0}}function Ar(e,t,r,n){let a=e.HEAPU8.subarray(t,t+n*Fr(r));switch(r){case"UINT8":return new Uint8Array(a.buffer,a.byteOffset,n);case"INT8":return new Int8Array(a.buffer,a.byteOffset,n);case"INT32":return new Int32Array(a.buffer,a.byteOffset,n);case"FLOAT":return new Float32Array(a.buffer,a.byteOffset,n);case"DOUBLE":case"VARCHAR":return new Float64Array(a.buffer,a.byteOffset,n);default:return new Array(0)}}function fn(e,t,r){let n=e.HEAPU8.subarray(t,t+r);return new Uint8Array(n.buffer,n.byteOffset,r)}function Ye(e,t,r){let n=e.HEAPU8.subarray(t,t+8*r);return new Float64Array(n.buffer,n.byteOffset,r)}function dn(e,t,r,n,a,o,i,u){try{let s=e._udfFunctions.get(n);if(!s)return void Er(t,r,"Unknown UDF with id: "+n);let l=cn.decode(t.HEAPU8.subarray(a,a+o)),f=JSON.parse(l),c=Ye(t,i,u/8),d=e=>{var r;let n=null;switch(void 0!==e.validityBuffer&&(n=fn(t,c[e.validityBuffer],f.rows)),e.physicalType){case"VARCHAR":{if(null===e.dataBuffer||void 0===e.dataBuffer)throw new Error("malformed data view, expected data buffer for VARCHAR argument");if(null===e.lengthBuffer||void 0===e.lengthBuffer)throw new Error("malformed data view, expected data length buffer for VARCHAR argument");let r=Ar(t,c[e.dataBuffer],e.physicalType,f.rows),a=[],o=Ye(t,c[e.lengthBuffer],f.rows);for(let e=0;e<f.rows;++e){if(null!=n&&!n[e]){a.push(null);continue}let i=t.HEAPU8.subarray(r[e],r[e]+o[e]),u=cn.decode(i);a.push(u)}return e=>a[e]}case"STRUCT":{let t={},a=[];for(let n=0;n<((null==(r=e.children)?void 0:r.length)||0);++n){let r=e.children[n],o=d(r);a.push((e=>{t[r.name]=o(e)}))}return null!=n?e=>{if(!n[e])return null;for(let t of a)t(e);return t}:e=>{for(let t of a)t(e);return t}}default:{if(void 0===e.dataBuffer)throw new Error("malformed data view, expected data buffer for argument of type: "+e.physicalType);let r=Ar(t,c[e.dataBuffer],e.physicalType,f.rows);return null!=n?e=>n[e]?r[e]:null:e=>r[e]}}},_=[];for(let e=0;e<f.args.length;++e)_.push(d(f.args[e]));let h=f.rows*Fr(f.ret.physicalType),p=t._malloc(h),m=Ar(t,p,f.ret.physicalType,f.rows),b=t._malloc(f.rows),y=fn(t,b,f.rows);if(0==m.length||0==y.length)return void Er(t,r,"Can't create physical arrays for result");let g=m;"VARCHAR"==f.ret.physicalType&&(g=new Array(f.rows));let w=[];for(let e=0;e<f.args.length;++e)w.push(null);for(let e=0;e<f.rows;++e){for(let t=0;t<f.args.length;++t)w[t]=_[t](e);let t=s.func(...w);g[e]=t,y[e]=null==t?0:1}let v=0;if("VARCHAR"===f.ret.physicalType){let e=new Array(0);v=t._malloc(f.rows*Fr("DOUBLE"));let r=Ye(t,v,f.rows),n=0;for(let t=0;t<f.rows;++t){let a=_n.encode(g[t]||"");e.push(a),r[t]=a.length,n+=a.length}let a=t._malloc(n),o=t.HEAPU8.subarray(a,a+n),i=0;for(let t=0;t<f.rows;++t){m[t]=i;let r=e[t];o.subarray(i,i+r.length).set(r),i+=r.length}}let A=24,E=t._malloc(A),H=Ye(t,E,3);H[0]=p,H[1]=b,H[2]=v,t.HEAPF64[0+(r>>3)]=0,t.HEAPF64[1+(r>>3)]=E,t.HEAPF64[2+(r>>3)]=0}catch(e){Er(t,r,e.toString())}}function ji(){let e=new TextDecoder;return t=>(typeof SharedArrayBuffer<"u"&&t.buffer instanceof SharedArrayBuffer&&(t=new Uint8Array(t)),e.decode(t))}var Yi=ji();function oe(e,t){console.error(`FAIL WITH: ${t}`),e.ccall("duckdb_web_fail_with",null,["string"],[t])}function ue(e,t,r){return Yi(e.HEAPU8.subarray(t,t+r))}function kr(e,t,r,n){let a=e.stackSave(),o=e.stackAlloc(24);r.unshift("number"),n.unshift(o),e.ccall(t,null,r,n);let i=e.HEAPF64[0+(o>>3)],u=e.HEAPF64[1+(o>>3)],s=e.HEAPF64[2+(o>>3)];return e.stackRestore(a),[i,u,s]}function Sr(e){e.ccall("duckdb_web_clear_response",null,[],[])}var x={_files:new Map,_fileInfoCache:new Map,_udfFunctions:new Map,_globalFileInfo:null,getFileInfo(e,t){try{let r=x._fileInfoCache.get(t),[n,a,o]=kr(e,"duckdb_web_fs_get_file_info_by_id",["number","number"],[t,(null==r?void 0:r.cacheEpoch)||0]);if(0!==n)return null;if(0===o)return r;let i=ue(e,a,o);Sr(e);let u=JSON.parse(i);if(null==u)return null;let s={...u,blob:null};return x._fileInfoCache.set(t,s),s}catch(e){return null}},getGlobalFileInfo(e){var t;try{let[r,n,a]=kr(e,"duckdb_web_get_global_file_info",["number"],[(null==(t=x._globalFileInfo)?void 0:t.cacheEpoch)||0]);if(0!==r)return null;if(0===a)return x._globalFileInfo;let o=ue(e,n,a);Sr(e);let i=JSON.parse(o);return null==i?null:(x._globalFileInfo={...i,blob:null},x._globalFileInfo)}catch(e){return null}},testPlatformFeature:(e,t)=>1===t?typeof BigInt64Array<"u":(console.warn(`test for unknown feature: ${t}`),!1),getDefaultDataProtocol:e=>2,openFile:(e,t,r)=>{var n;try{x._fileInfoCache.delete(t);let a=x.getFileInfo(e,t);switch(null==a?void 0:a.dataProtocol){case 4:case 5:{if(1&r&&2&r)throw new Error(`Opening file ${a.fileName} failed: cannot open file with both read and write flags set`);if(32&r)throw new Error(`Opening file ${a.fileName} failed: appending to HTTP/S3 files is not supported`);if(2&r){let t=new XMLHttpRequest;if(5==a.dataProtocol?(t.open("HEAD",be(a.s3Config,a.dataUrl),!1),he(t,a.s3Config,a.dataUrl,"HEAD")):t.open("HEAD",a.dataUrl,!1),t.send(null),200!=t.status&&404!=t.status)throw new Error(`Opening file ${a.fileName} failed: Unexpected return status from server (${t.status})`);if(404==t.status&&!(8&r||16&r))throw new Error(`Opening file ${a.fileName} failed: Cannot write to non-existent file without FILE_FLAGS_FILE_CREATE or FILE_FLAGS_FILE_CREATE_NEW flag.`);let n=e._malloc(1),o=new Uint8Array;e.HEAPU8.set(o,n);let i=e._malloc(16);return e.HEAPF64[0+(i>>3)]=1,e.HEAPF64[1+(i>>3)]=n,i}if(1!=r)throw new Error(`Opening file ${a.fileName} failed: unsupported file flags: ${r}`);let t=null;try{let t=new XMLHttpRequest;5==a.dataProtocol?(t.open("HEAD",be(a.s3Config,a.dataUrl),!1),he(t,a.s3Config,a.dataUrl,"HEAD")):t.open("HEAD",a.dataUrl,!1),t.setRequestHeader("Range","bytes=0-"),t.send(null);let r=t.getResponseHeader("Content-Length");if(206==t.status&&null!==r){let t=e._malloc(16);return e.HEAPF64[0+(t>>3)]=+r,e.HEAPF64[1+(t>>3)]=0,t}}catch(e){t=e,console.warn(`HEAD request with range header failed: ${e}`)}if(a.allowFullHttpReads){console.warn(`falling back to full HTTP read for: ${a.dataUrl}`);let t=new XMLHttpRequest;if(5==a.dataProtocol?(t.open("GET",be(a.s3Config,a.dataUrl),!1),he(t,a.s3Config,a.dataUrl,"GET")):t.open("GET",a.dataUrl,!1),t.responseType="arraybuffer",t.send(null),200==t.status){let r=e._malloc(t.response.byteLength),n=new Uint8Array(t.response,0,t.response.byteLength);e.HEAPU8.set(n,r);let a=e._malloc(16);return e.HEAPF64[0+(a>>3)]=t.response.byteLength,e.HEAPF64[1+(a>>3)]=r,a}}if(null!=t)throw new Error(`Reading file ${a.fileName} failed with error: ${t}`);return 0}case 2:{let t=null==(n=x._files)?void 0:n.get(a.fileName);if(t){let r=e._malloc(16);return e.HEAPF64[0+(r>>3)]=t.size,e.HEAPF64[1+(r>>3)]=0,r}console.warn(`Buffering missing file: ${a.fileName}`);let r=e._malloc(16),o=e._malloc(1);return e.HEAPF64[0+(r>>3)]=1,e.HEAPF64[1+(r>>3)]=o,r}}}catch(t){console.error(t.toString()),oe(e,t.toString())}return 0},glob:(e,t,r)=>{try{let n=ue(e,t,r);if(n.startsWith("http")||n.startsWith("s3://")){let t=new XMLHttpRequest;if(n.startsWith("s3://")){let r=x.getGlobalFileInfo(e);t.open("HEAD",be(null==r?void 0:r.s3Config,n),!1),he(t,null==r?void 0:r.s3Config,n,"HEAD")}else t.open("HEAD",n,!1);if(t.send(null),200!=t.status&&206!==t.status)return void oe(e,`HEAD request failed: ${n}`);e.ccall("duckdb_web_fs_glob_add_path",null,["string"],[n])}}catch(t){return oe(e,t.toString()),0}},checkFile:(e,t,r)=>{try{let n=ue(e,t,r);if(n.startsWith("http")||n.startsWith("s3://")){let t=new XMLHttpRequest;if(n.startsWith("s3://")){let r=x.getGlobalFileInfo(e);t.open("HEAD",be(null==r?void 0:r.s3Config,n),!1),he(t,null==r?void 0:r.s3Config,n,"HEAD")}else t.open("HEAD",n,!1);return t.send(null),206==t.status||200==t.status}}catch(e){return!1}return!1},syncFile:(e,t)=>{},closeFile:(e,t)=>{var r;let n=x.getFileInfo(e,t);switch(x._fileInfoCache.delete(t),null==n?void 0:n.dataProtocol){case 0:case 4:case 5:break;case 1:case 2:return;case 3:{let e=null==(r=x._files)?void 0:r.get(n.fileName);if(!e)throw new Error(`No OPFS access handle registered with name: ${n.fileName}`);return e.flush()}}},truncateFile:(e,t,r)=>{var n;let a=x.getFileInfo(e,t);switch(null==a?void 0:a.dataProtocol){case 4:return void oe(e,"Cannot truncate a http file");case 5:return void oe(e,"Cannot truncate an s3 file");case 0:case 1:case 2:return void oe(e,"truncateFile not implemented");case 3:{let e=null==(n=x._files)?void 0:n.get(a.fileName);if(!e)throw new Error(`No OPFS access handle registered with name: ${a.fileName}`);return e.truncate(r)}}return 0},readFile(e,t,r,n,a){var o,i;try{let u=x.getFileInfo(e,t);switch(null==u?void 0:u.dataProtocol){case 4:case 5:if(!u.dataUrl)throw new Error(`Missing data URL for file ${t}`);try{let t=new XMLHttpRequest;if(5==u.dataProtocol?(t.open("GET",be(null==u?void 0:u.s3Config,u.dataUrl),!1),he(t,null==u?void 0:u.s3Config,u.dataUrl,"GET")):t.open("GET",u.dataUrl,!1),t.responseType="arraybuffer",t.setRequestHeader("Range",`bytes=${a}-${a+n-1}`),t.send(null),206==t.status||200==t.status&&n==t.response.byteLength&&0==a){let a=new Uint8Array(t.response,0,Math.min(t.response.byteLength,n));return e.HEAPU8.set(a,r),a.byteLength}throw 200==t.status?new Error(`Range request for ${u.dataUrl} did not return a partial response: ${t.status} "${t.statusText}"`):new Error(`Range request for ${u.dataUrl} did returned non-success status: ${t.status} "${t.statusText}"`)}catch(e){throw new Error(`Range request for ${u.dataUrl} failed with error: ${e}"`)}case 2:{let t=null==(o=x._files)?void 0:o.get(u.fileName);if(!t)throw new Error(`No HTML5 file registered with name: ${u.fileName}`);let i=t.slice(a,a+n),s=new Uint8Array((new FileReaderSync).readAsArrayBuffer(i));return e.HEAPU8.set(s,r),s.byteLength}case 3:{let t=null==(i=x._files)?void 0:i.get(u.fileName);if(!t)throw new Error(`No OPFS access handle registered with name: ${u.fileName}`);let o=e.HEAPU8.subarray(r,r+n);return t.read(o,{at:a})}}return 0}catch(t){return oe(e,t.toString()),0}},writeFile:(e,t,r,n,a)=>{var o;let i=x.getFileInfo(e,t);switch(null==i?void 0:i.dataProtocol){case 4:return oe(e,"Cannot write to HTTP file"),0;case 5:{let t=e.HEAPU8.subarray(r,r+n),a=new XMLHttpRequest;return a.open("PUT",be(null==i?void 0:i.s3Config,i.dataUrl),!1),he(a,null==i?void 0:i.s3Config,i.dataUrl,"PUT","",t),a.send(t),n}case 2:return oe(e,"cannot write using the html5 file reader api"),0;case 3:{let t=null==(o=x._files)?void 0:o.get(i.fileName);if(!t)throw new Error(`No OPFS access handle registered with name: ${i.fileName}`);let u=e.HEAPU8.subarray(r,r+n);return t.write(u,{at:a})}}return 0},getLastFileModificationTime:(e,t)=>{var r;let n=x.getFileInfo(e,t);switch(null==n?void 0:n.dataProtocol){case 2:if(!(null==(r=x._files)?void 0:r.get(n.fileName)))throw Error(`No handle available for file: ${n.fileName}`);return 0;case 4:case 5:return(new Date).getTime()}return 0},checkDirectory:(e,t,r)=>{let n=ue(e,t,r);return console.log(`checkDirectory: ${n}`),!1},createDirectory:(e,t,r)=>{let n=ue(e,t,r);console.log(`createDirectory: ${n}`)},removeDirectory:(e,t,r)=>{let n=ue(e,t,r);console.log(`removeDirectory: ${n}`)},listDirectoryEntries:(e,t,r)=>{let n=ue(e,t,r);return console.log(`listDirectoryEntries: ${n}`),!1},moveFile:(e,t,r,n,a)=>{var o,i;let u=ue(e,t,r),s=ue(e,n,a),l=null==(o=x._files)?void 0:o.get(u);void 0!==l&&(x._files.delete(l),x._files.set(s,l));for(let[e,t]of(null==(i=x._fileInfoCache)?void 0:i.entries())||[])if(t.dataUrl==u){x._fileInfoCache.delete(e);break}return!0},removeFile:(e,t,r)=>{},callScalarUDF:(e,t,r,n,a,o,i)=>{dn(x,e,t,r,n,a,o,i)}};globalThis.DUCKDB_RUNTIME={};for(let e of Object.getOwnPropertyNames(x))"constructor"!=e&&(globalThis.DUCKDB_RUNTIME[e]=Object.getOwnPropertyDescriptor(x,e).value);globalThis.onmessage=e=>{if("load"===e.data.cmd){let t=an();t.wasmModule=e.data.wasmModule,t.wasmMemory=e.data.wasmMemory,t.buffer=t.wasmMemory.buffer,t.ENVIRONMENT_IS_PTHREAD=!0,hr(t).then((function(e){un(e)}))}else if("registerFileHandle"===e.data.cmd)globalThis.DUCKDB_RUNTIME._files=globalThis.DUCKDB_RUNTIME._files||new Map,globalThis.DUCKDB_RUNTIME._files.set(e.data.fileName,e.data.fileHandle);else if("dropFileHandle"===e.data.cmd)globalThis.DUCKDB_RUNTIME._files=globalThis.DUCKDB_RUNTIME._files||new Map,globalThis.DUCKDB_RUNTIME._files.delete(e.data.fileName);else if("registerUDFFunction"===e.data.cmd)globalThis.DUCKDB_RUNTIME._udfFunctions=globalThis.DUCKDB_RUNTIME._files||new Map,globalThis.DUCKDB_RUNTIME._udfFunctions.set(e.data.udf.name,e.data.udf);else if("dropUDFFunctions"===e.data.cmd){globalThis.DUCKDB_RUNTIME._udfFunctions=globalThis.DUCKDB_RUNTIME._files||new Map;for(let t of globalThis.DUCKDB_RUNTIME._udfFunctions.keys())globalThis.DUCKDB_RUNTIME._udfFunctions.get(t).connection_id==e.data.connectionId&&globalThis.DUCKDB_RUNTIME._udfFunctions.delete(t)}else vr(e)}})();